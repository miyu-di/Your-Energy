{"version":3,"file":"api-CA10J7K2.js","sources":["../../src/js/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport async function getFilters(filterName = 'Muscles', page = 1) {\n  try {\n    const response = await axios.get(`${BASE_URL}/filters`, {\n      params: {\n        filter: filterName,\n        page: page,\n        limit: 12,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\n      `Error fetching filters (filter: ${filterName}, page: ${page}):`,\n      error\n    );\n    throw error;\n  }\n}\n\nexport const getExercises = async params => {\n  try {\n    const response = await axios.get(`${BASE_URL}/exercises`, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching exercises:', error);\n    throw error;\n  }\n};\n\nexport const getExerciseById = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/exercises/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching exercise by ID (${id}):`, error);\n    throw error;\n  }\n};\n\n\nexport const patchRating = async (id, data) => {\n  try {\n    const body = {\n      rate: Number(data.rate),\n      email: data.email,\n      review: data.comment \n    };\n    const response = await axios.patch(`${BASE_URL}/exercises/${id}/rating`, body);\n    return response.data;\n  } catch (error) {\n    console.error(\"Помилка в API (rating):\", error);\n    throw error; \n  }\n};\n\nexport const subscribeEmail = async (email) => {\n  try {\n    const response = await axios.post(`${BASE_URL}/subscription`, { email });\n    return response.data;\n  } catch (error) {\n    console.error(\"Помилка в API (subscription):\", error);\n    \n    throw error;\n  }\n};\n\nasync function getQuote() {\n  try {\n    const response = await axios.get(`${BASE_URL}/quote`);\n    const data = await response.data;\n    return data;\n  } catch (error) {\n    console.error('Error getting quote from backend', error);\n    return null;\n  }\n}\n\nexport async function updateQuoteBlock() {\n  const storedQuote = localStorage.getItem('quote');\n  const storedDate = localStorage.getItem('quoteDate');\n  const currentDate = new Date().toDateString();\n\n  if (storedQuote && storedDate === currentDate) {\n    return JSON.parse(storedQuote);\n  } else {\n    const quoteData = await getQuote();\n\n    if (quoteData) {\n      localStorage.setItem('quote', JSON.stringify(quoteData));\n      localStorage.setItem('quoteDate', currentDate);\n      return quoteData;\n    }\n  }\n}\n"],"names":["BASE_URL","getFilters","filterName","page","axios","error","getExercises","params","getExerciseById","id","patchRating","data","body","subscribeEmail","email","getQuote","updateQuoteBlock","storedQuote","storedDate","currentDate","quoteData"],"mappings":"yCAEA,MAAMA,EAAW,uCAEV,eAAeC,EAAWC,EAAa,UAAWC,EAAO,EAAG,CACjE,GAAI,CAQF,OAPiB,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,WAAY,CACtD,OAAQ,CACN,OAAQE,EACR,KAAMC,EACN,MAAO,EACR,CACP,CAAK,GACe,IACjB,OAAQE,EAAO,CACd,cAAQ,MACN,mCAAmCH,CAAU,WAAWC,CAAI,KAC5DE,CACN,EACUA,CACP,CACH,CAEY,MAACC,EAAe,MAAMC,GAAU,CAC1C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,GAAGJ,CAAQ,aAAc,CAAE,OAAAO,CAAM,CAAE,GACpD,IACjB,OAAQF,EAAO,CACd,cAAQ,MAAM,4BAA6BA,CAAK,EAC1CA,CACP,CACH,EAEaG,EAAkB,MAAMC,GAAM,CACzC,GAAI,CAEF,OADiB,MAAML,EAAM,IAAI,GAAGJ,CAAQ,cAAcS,CAAE,EAAE,GAC9C,IACjB,OAAQJ,EAAO,CACd,cAAQ,MAAM,kCAAkCI,CAAE,KAAMJ,CAAK,EACvDA,CACP,CACH,EAGaK,EAAc,MAAOD,EAAIE,IAAS,CAC7C,GAAI,CACF,MAAMC,EAAO,CACX,KAAM,OAAOD,EAAK,IAAI,EACtB,MAAOA,EAAK,MACZ,OAAQA,EAAK,OACnB,EAEI,OADiB,MAAMP,EAAM,MAAM,GAAGJ,CAAQ,cAAcS,CAAE,UAAWG,CAAI,GAC7D,IACjB,OAAQP,EAAO,CACd,cAAQ,MAAM,0BAA2BA,CAAK,EACxCA,CACP,CACH,EAEaQ,EAAiB,MAAOC,GAAU,CAC7C,GAAI,CAEF,OADiB,MAAMV,EAAM,KAAK,GAAGJ,CAAQ,gBAAiB,CAAE,MAAAc,CAAK,CAAE,GACvD,IACjB,OAAQT,EAAO,CACd,cAAQ,MAAM,gCAAiCA,CAAK,EAE9CA,CACP,CACH,EAEA,eAAeU,GAAW,CACxB,GAAI,CAGF,OADa,MADI,MAAMX,EAAM,IAAI,GAAGJ,CAAQ,QAAQ,GACxB,IAE7B,OAAQK,EAAO,CACd,eAAQ,MAAM,mCAAoCA,CAAK,EAChD,IACR,CACH,CAEO,eAAeW,GAAmB,CACvC,MAAMC,EAAc,aAAa,QAAQ,OAAO,EAC1CC,EAAa,aAAa,QAAQ,WAAW,EAC7CC,EAAc,IAAI,KAAM,EAAC,aAAY,EAE3C,GAAIF,GAAeC,IAAeC,EAChC,OAAO,KAAK,MAAMF,CAAW,EACxB,CACL,MAAMG,EAAY,MAAML,IAExB,GAAIK,EACF,oBAAa,QAAQ,QAAS,KAAK,UAAUA,CAAS,CAAC,EACvD,aAAa,QAAQ,YAAaD,CAAW,EACtCC,CAEV,CACH"}